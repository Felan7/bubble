[gd_scene load_steps=77 format=3 uid="uid://cgjnst4kokuk3"]

[ext_resource type="Script" path="res://scripts/character_movement.gd" id="1_aki4v"]
[ext_resource type="Shader" path="res://shaders/glow.gdshader" id="1_ie0cb"]
[ext_resource type="Script" path="res://scenes/m_world.gd" id="1_rcm25"]
[ext_resource type="Texture2D" uid="uid://chbj0csrie28f" path="res://art/animations/character_idle_animation/CharIdle0000.png" id="2_bwx28"]
[ext_resource type="Texture2D" uid="uid://bfbtivivx6dy2" path="res://art/animations/character_idle_animation/CharIdle0001.png" id="3_myxg5"]
[ext_resource type="Texture2D" uid="uid://oetx2u4x7u1j" path="res://art/sprites/bubble.svg" id="3_sj4rk"]
[ext_resource type="Script" path="res://scripts/basic_bubble.gd" id="3_uj7nj"]
[ext_resource type="Texture2D" uid="uid://da034r04nbxas" path="res://art/sprites/ground-main.svg" id="4_1spml"]
[ext_resource type="Script" path="res://scripts/transport_bubble.gd" id="4_4vov7"]
[ext_resource type="Texture2D" uid="uid://ed1tw5j7x4vf" path="res://art/animations/character_idle_animation/CharIdle0002.png" id="4_i5v7a"]
[ext_resource type="Texture2D" uid="uid://bo1j4oxa42jse" path="res://art/animations/character_idle_animation/CharIdle0003.png" id="5_rqiqt"]
[ext_resource type="Texture2D" uid="uid://cg65a476wfpxa" path="res://art/sprites/telephone.png" id="5_ue00l"]
[ext_resource type="Script" path="res://scripts/transport_trigger.gd" id="6_gq65e"]
[ext_resource type="Texture2D" uid="uid://wtl0hukbop5p" path="res://art/animations/character_idle_animation/CharIdle0004.png" id="6_y5jus"]
[ext_resource type="Texture2D" uid="uid://dhknkhwgw8vwn" path="res://art/animations/character_idle_animation/CharIdle0005.png" id="7_xj3ct"]
[ext_resource type="Texture2D" uid="uid://c8idm0otcwad3" path="res://art/animations/character_idle_animation/CharIdle0006.png" id="8_vysq8"]
[ext_resource type="Texture2D" uid="uid://cq82tds2frdoo" path="res://art/animations/character_idle_animation/CharIdle0007.png" id="9_n62km"]
[ext_resource type="Texture2D" uid="uid://dhcgelnorhfbe" path="res://art/animations/character_idle_animation/CharIdle0008.png" id="10_vcx1w"]
[ext_resource type="Texture2D" uid="uid://bpynbnumtftey" path="res://art/animations/character_idle_animation/CharIdle0009.png" id="11_mpo11"]
[ext_resource type="Texture2D" uid="uid://d5ulpti0dnf8" path="res://art/animations/character_idle_animation/CharIdle0010.png" id="12_16qy4"]
[ext_resource type="Texture2D" uid="uid://bkqag1xypvet3" path="res://art/animations/character_idle_animation/CharIdle0011.png" id="13_7yjmr"]
[ext_resource type="Texture2D" uid="uid://b5fbtem7b0eux" path="res://art/animations/character_idle_animation/CharIdle0012.png" id="14_q86si"]
[ext_resource type="Texture2D" uid="uid://7vsbyoinfioi" path="res://art/animations/character_idle_animation/CharIdle0013.png" id="15_s60oy"]
[ext_resource type="Texture2D" uid="uid://uc6gka55oit4" path="res://art/animations/character_idle_animation/CharIdle0014.png" id="16_kxmfj"]
[ext_resource type="Texture2D" uid="uid://cmthxgpqy45l1" path="res://art/animations/character_idle_animation/CharIdle0015.png" id="17_dtikb"]
[ext_resource type="Texture2D" uid="uid://b4si11bcufqs7" path="res://art/animations/character_idle_animation/CharIdle0016.png" id="18_wa8pp"]
[ext_resource type="Texture2D" uid="uid://cph7fe3rbj4vj" path="res://art/animations/character_idle_animation/CharIdle0017.png" id="19_rl2gs"]
[ext_resource type="Texture2D" uid="uid://lu3gyjq8bnmw" path="res://art/animations/character_idle_animation/CharIdle0018.png" id="20_lknix"]
[ext_resource type="Texture2D" uid="uid://desn1phtrocoe" path="res://art/animations/character_idle_animation/CharIdle0019.png" id="21_xt118"]
[ext_resource type="Texture2D" uid="uid://cuadn4kju5h84" path="res://art/animations/character_idle_animation/CharIdle0020.png" id="22_l4wt6"]
[ext_resource type="Texture2D" uid="uid://dxxsibq02npxp" path="res://art/animations/character_idle_animation/CharIdle0021.png" id="23_k4v7y"]
[ext_resource type="Texture2D" uid="uid://ch4w0526omel7" path="res://art/animations/character_idle_animation/CharIdle0022.png" id="24_h0c0i"]
[ext_resource type="Texture2D" uid="uid://bsft0u6gsk1v1" path="res://art/animations/character_idle_animation/CharIdle0023.png" id="25_x8kjy"]
[ext_resource type="Texture2D" uid="uid://euit8vq0a4o2" path="res://art/animations/character_idle_animation/CharIdle0024.png" id="26_6mwab"]
[ext_resource type="Texture2D" uid="uid://cob52jafjhpwg" path="res://art/animations/character_idle_animation/CharIdle0025.png" id="27_3mhqf"]
[ext_resource type="Texture2D" uid="uid://c87bjf0bv4vku" path="res://art/animations/character_idle_animation/CharIdle0026.png" id="28_uo3s8"]
[ext_resource type="Texture2D" uid="uid://dqtsphgat0ws8" path="res://art/animations/character_idle_animation/CharIdle0027.png" id="29_u2hvr"]
[ext_resource type="Texture2D" uid="uid://baqgu7sdvbgar" path="res://art/animations/character_idle_animation/CharIdle0028.png" id="30_kddq8"]
[ext_resource type="Texture2D" uid="uid://dyhcrgvq0xacw" path="res://art/animations/character_idle_animation/CharIdle0029.png" id="31_kf8xh"]
[ext_resource type="Texture2D" uid="uid://cbuf0cudanqxc" path="res://art/animations/character_idle_animation/CharIdle0030.png" id="32_63fby"]
[ext_resource type="Texture2D" uid="uid://c4thh8t32egyi" path="res://art/animations/character_idle_animation/CharIdle0031.png" id="33_xid7m"]
[ext_resource type="Texture2D" uid="uid://1abdq6ivd1lh" path="res://art/animations/character_idle_animation/CharIdle0032.png" id="34_pv7a2"]
[ext_resource type="Texture2D" uid="uid://3wv5otwr21cm" path="res://art/animations/CharacterWalkingAnimation/CharWalking0055.png" id="35_sxpm0"]
[ext_resource type="Texture2D" uid="uid://d3q04b4pedk7v" path="res://art/animations/CharacterWalkingAnimation/CharWalking0056.png" id="36_je0xq"]
[ext_resource type="Texture2D" uid="uid://c2n7gpuukafk3" path="res://art/animations/CharacterWalkingAnimation/CharWalking0057.png" id="37_ypel3"]
[ext_resource type="Texture2D" uid="uid://cgbac3egojs23" path="res://art/animations/CharacterWalkingAnimation/CharWalking0058.png" id="38_u1uhi"]
[ext_resource type="Texture2D" uid="uid://da70mo0k57i0i" path="res://art/animations/CharacterWalkingAnimation/CharWalking0059.png" id="39_b47yu"]
[ext_resource type="Texture2D" uid="uid://4nakyf3ye0oc" path="res://art/animations/CharacterWalkingAnimation/CharWalking0060.png" id="40_ouxbr"]
[ext_resource type="Texture2D" uid="uid://b6y7vcny4glkh" path="res://art/animations/CharacterWalkingAnimation/CharWalking0061.png" id="41_tpph8"]
[ext_resource type="Texture2D" uid="uid://cgva88unjvbdj" path="res://art/animations/CharacterWalkingAnimation/CharWalking0062.png" id="42_ca6x8"]
[ext_resource type="Texture2D" uid="uid://s7y75y83rgcr" path="res://art/animations/CharacterWalkingAnimation/CharWalking0063.png" id="43_iomca"]
[ext_resource type="Texture2D" uid="uid://mfautc8rrjie" path="res://art/animations/CharacterWalkingAnimation/CharWalking0064.png" id="44_sem6w"]
[ext_resource type="Texture2D" uid="uid://cmdx7mw6apvlm" path="res://art/animations/CharacterWalkingAnimation/CharWalking0065.png" id="45_c81nn"]
[ext_resource type="Texture2D" uid="uid://bsp7i67yx66e6" path="res://art/animations/CharacterWalkingAnimation/CharWalking0066.png" id="46_4ltct"]
[ext_resource type="Texture2D" uid="uid://dqgtswib2ufso" path="res://art/animations/CharacterWalkingAnimation/CharWalking0067.png" id="47_g3k6x"]
[ext_resource type="Texture2D" uid="uid://ciq8qej4b2yqm" path="res://art/animations/CharacterWalkingAnimation/CharWalking0068.png" id="48_eeehp"]
[ext_resource type="Texture2D" uid="uid://rydmvd0ulxa0" path="res://art/animations/CharacterWalkingAnimation/CharWalking0069.png" id="49_y0e8f"]
[ext_resource type="Texture2D" uid="uid://bgw7yiwady518" path="res://art/animations/CharacterWalkingAnimation/CharWalking0070.png" id="50_aen07"]
[ext_resource type="Texture2D" uid="uid://bg3t4o67ru4vv" path="res://art/animations/CharacterWalkingAnimation/CharWalking0071.png" id="51_4qv0i"]
[ext_resource type="AudioStream" uid="uid://dqvv5x6o8sxwt" path="res://art/sounds/jump.ogg" id="53_s12c6"]
[ext_resource type="Script" path="res://scripts/player_sprite_animation.gd" id="53_vsmp5"]
[ext_resource type="AudioStream" uid="uid://ck3b2d8g34urf" path="res://art/sounds/step1.ogg" id="53_wrhd3"]
[ext_resource type="AudioStream" uid="uid://budfychjwbrsx" path="res://art/sounds/step2.ogg" id="54_mh7l5"]
[ext_resource type="AudioStream" uid="uid://cr52smw83vh32" path="res://art/sounds/step3.ogg" id="55_2ut6l"]
[ext_resource type="AudioStream" uid="uid://cfontb0ihnyj4" path="res://art/sounds/transport_loop.ogg" id="57_2uj5k"]

[sub_resource type="AudioStreamSynchronized" id="AudioStreamSynchronized_q3iyt"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ern3x"]
radius = 70.0
height = 265.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gmjwx"]
bg_color = Color(0, 0, 0, 1)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(1, 1, 1, 1)
corner_radius_top_left = 16
corner_radius_top_right = 16
corner_radius_bottom_right = 16
corner_radius_bottom_left = 16

[sub_resource type="ShaderMaterial" id="ShaderMaterial_u4rn6"]
shader = ExtResource("1_ie0cb")
shader_parameter/intensity = 0.4
shader_parameter/edge_fade = 0.6

[sub_resource type="SpriteFrames" id="SpriteFrames_c3bme"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_bwx28")
}, {
"duration": 1.0,
"texture": ExtResource("3_myxg5")
}, {
"duration": 1.0,
"texture": ExtResource("4_i5v7a")
}, {
"duration": 1.0,
"texture": ExtResource("5_rqiqt")
}, {
"duration": 1.0,
"texture": ExtResource("6_y5jus")
}, {
"duration": 1.0,
"texture": ExtResource("7_xj3ct")
}, {
"duration": 1.0,
"texture": ExtResource("8_vysq8")
}, {
"duration": 1.0,
"texture": ExtResource("9_n62km")
}, {
"duration": 1.0,
"texture": ExtResource("10_vcx1w")
}, {
"duration": 1.0,
"texture": ExtResource("11_mpo11")
}, {
"duration": 1.0,
"texture": ExtResource("12_16qy4")
}, {
"duration": 1.0,
"texture": ExtResource("13_7yjmr")
}, {
"duration": 1.0,
"texture": ExtResource("14_q86si")
}, {
"duration": 1.0,
"texture": ExtResource("15_s60oy")
}, {
"duration": 1.0,
"texture": ExtResource("16_kxmfj")
}, {
"duration": 1.0,
"texture": ExtResource("17_dtikb")
}, {
"duration": 1.0,
"texture": ExtResource("18_wa8pp")
}, {
"duration": 1.0,
"texture": ExtResource("19_rl2gs")
}, {
"duration": 1.0,
"texture": ExtResource("20_lknix")
}, {
"duration": 1.0,
"texture": ExtResource("21_xt118")
}, {
"duration": 1.0,
"texture": ExtResource("22_l4wt6")
}, {
"duration": 1.0,
"texture": ExtResource("23_k4v7y")
}, {
"duration": 1.0,
"texture": ExtResource("24_h0c0i")
}, {
"duration": 1.0,
"texture": ExtResource("25_x8kjy")
}, {
"duration": 1.0,
"texture": ExtResource("26_6mwab")
}, {
"duration": 1.0,
"texture": ExtResource("27_3mhqf")
}, {
"duration": 1.0,
"texture": ExtResource("28_uo3s8")
}, {
"duration": 1.0,
"texture": ExtResource("29_u2hvr")
}, {
"duration": 1.0,
"texture": ExtResource("30_kddq8")
}, {
"duration": 1.0,
"texture": ExtResource("31_kf8xh")
}, {
"duration": 1.0,
"texture": ExtResource("32_63fby")
}, {
"duration": 1.0,
"texture": ExtResource("33_xid7m")
}, {
"duration": 1.0,
"texture": ExtResource("34_pv7a2")
}],
"loop": true,
"name": &"idle",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("35_sxpm0")
}, {
"duration": 1.0,
"texture": ExtResource("36_je0xq")
}, {
"duration": 1.0,
"texture": ExtResource("37_ypel3")
}, {
"duration": 1.0,
"texture": ExtResource("38_u1uhi")
}, {
"duration": 1.0,
"texture": ExtResource("39_b47yu")
}, {
"duration": 1.0,
"texture": ExtResource("40_ouxbr")
}, {
"duration": 1.0,
"texture": ExtResource("41_tpph8")
}, {
"duration": 1.0,
"texture": ExtResource("42_ca6x8")
}, {
"duration": 1.0,
"texture": ExtResource("43_iomca")
}, {
"duration": 1.0,
"texture": ExtResource("44_sem6w")
}, {
"duration": 1.0,
"texture": ExtResource("45_c81nn")
}, {
"duration": 1.0,
"texture": ExtResource("46_4ltct")
}, {
"duration": 1.0,
"texture": ExtResource("47_g3k6x")
}, {
"duration": 1.0,
"texture": ExtResource("48_eeehp")
}, {
"duration": 1.0,
"texture": ExtResource("49_y0e8f")
}, {
"duration": 1.0,
"texture": ExtResource("50_aen07")
}, {
"duration": 1.0,
"texture": ExtResource("51_4qv0i")
}],
"loop": true,
"name": &"walking",
"speed": 24.0
}]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_cyspg"]
random_volume_offset_db = 0.4
streams_count = 3
stream_0/stream = ExtResource("53_wrhd3")
stream_1/stream = ExtResource("54_mh7l5")
stream_2/stream = ExtResource("55_2ut6l")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_6ngbu"]
random_pitch = 1.1
random_volume_offset_db = 2.0
streams_count = 1
stream_0/stream = ExtResource("53_s12c6")

[sub_resource type="CircleShape2D" id="CircleShape2D_1yiq7"]
radius = 88.741

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_bvuql"]
particle_flag_disable_z = true
radial_velocity_min = -219.75
radial_velocity_max = 126.76
gravity = Vector3(0, 98, 0)
scale_min = 2.0
scale_max = 8.0
scale_over_velocity_max = 20.0
turbulence_enabled = true
turbulence_influence_min = 0.0
turbulence_influence_max = 0.03

[sub_resource type="SegmentShape2D" id="SegmentShape2D_rgrqg"]
a = Vector2(-12, -224)
b = Vector2(0, 220)

[sub_resource type="Environment" id="Environment_rhyln"]
background_mode = 3
glow_enabled = true
glow_intensity = 2.0
glow_bloom = 0.2

[node name="Node2D" type="Node2D"]
script = ExtResource("1_rcm25")

[node name="Music" type="AudioStreamPlayer2D" parent="."]
stream = SubResource("AudioStreamSynchronized_q3iyt")
volume_db = 6.0
attenuation = 2.82843

[node name="player" type="CharacterBody2D" parent="." groups=["player"]]
unique_name_in_owner = true
position = Vector2(0, -225)
scale = Vector2(0.4, 0.4)
floor_stop_on_slope = false
floor_max_angle = 1.5708
script = ExtResource("1_aki4v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="player"]
position = Vector2(0, -7.5)
shape = SubResource("CapsuleShape2D_ern3x")

[node name="Camera2D" type="Camera2D" parent="player"]
offset = Vector2(0, 100)
zoom = Vector2(0.75, 0.75)

[node name="CanvasLayer" type="CanvasLayer" parent="player/Camera2D"]
visible = false

[node name="Panel" type="Panel" parent="player/Camera2D/CanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_top = -100.0
offset_bottom = -100.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_gmjwx")

[node name="Label" type="Label" parent="player/Camera2D/CanvasLayer/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Press \"E\" to enter"
horizontal_alignment = 1

[node name="Sprite" type="AnimatedSprite2D" parent="player"]
material = SubResource("ShaderMaterial_u4rn6")
sprite_frames = SubResource("SpriteFrames_c3bme")
animation = &"walking"
autoplay = "idle"
frame_progress = 0.141537
script = ExtResource("53_vsmp5")

[node name="WalkingSound" type="AudioStreamPlayer2D" parent="player"]
stream = SubResource("AudioStreamRandomizer_cyspg")
volume_db = -6.0

[node name="JumpSound" type="AudioStreamPlayer2D" parent="player"]
stream = SubResource("AudioStreamRandomizer_6ngbu")
volume_db = -3.0

[node name="BubbleTransportSound" type="AudioStreamPlayer2D" parent="player"]
stream = ExtResource("57_2uj5k")
volume_db = -12.0

[node name="Transportion2" type="Area2D" parent="."]
script = ExtResource("6_gq65e")

[node name="Transport_Trigger" type="CollisionShape2D" parent="Transportion2"]
position = Vector2(382.4, 0)
shape = SubResource("CircleShape2D_1yiq7")

[node name="GPUParticles2D" type="GPUParticles2D" parent="Transportion2/Transport_Trigger"]
position = Vector2(0, -4)
amount = 30
process_material = SubResource("ParticleProcessMaterial_bvuql")
script = ExtResource("3_uj7nj")

[node name="Transport_Bubble" type="Sprite2D" parent="Transportion2"]
position = Vector2(566, 0)
scale = Vector2(0.2, 0.2)
texture = ExtResource("3_sj4rk")
script = ExtResource("4_4vov7")

[node name="Transportion" type="Area2D" parent="."]
script = ExtResource("6_gq65e")

[node name="Transport_Trigger" type="CollisionShape2D" parent="Transportion"]
position = Vector2(-378, 0)
shape = SubResource("CircleShape2D_1yiq7")

[node name="Transport_Bubble" type="Sprite2D" parent="Transportion"]
position = Vector2(-579, 0)
scale = Vector2(0.2, 0.2)
texture = ExtResource("3_sj4rk")
script = ExtResource("4_4vov7")

[node name="GPUParticles2D" type="GPUParticles2D" parent="Transportion"]
position = Vector2(-378, -4)
amount = 30
process_material = SubResource("ParticleProcessMaterial_bvuql")
script = ExtResource("3_uj7nj")

[node name="Bubble" type="Sprite2D" parent="."]
position = Vector2(0, 48)
texture = ExtResource("3_sj4rk")
script = ExtResource("3_uj7nj")

[node name="Ground-main" type="Sprite2D" parent="Bubble"]
position = Vector2(0, 200)
texture = ExtResource("4_1spml")

[node name="Ground_Collider" type="StaticBody2D" parent="Bubble"]
position = Vector2(-3.5, 213)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Bubble/Ground_Collider"]
polygon = PackedVector2Array(-400.5, -213, -355.5, -209, -313.5, -194, -289.5, -171, -273.5, -144, -242.5, -123, -190.5, -120, -112.5, -136, -31.5, -153, 32.5, -157, 116.5, -140, 204.5, -122, 251.5, -129, 299.5, -159, 359.5, -212, 370.5, -214, 407.5, -214, 402.5, -147, 383.5, -82, 365.5, -38, -350.5, -23, -373.5, -72, -392.5, -133)

[node name="Wall" type="CollisionShape2D" parent="Bubble/Ground_Collider"]
position = Vector2(-395.5, -252)
shape = SubResource("SegmentShape2D_rgrqg")

[node name="Wall2" type="CollisionShape2D" parent="Bubble/Ground_Collider"]
position = Vector2(411.5, -252)
shape = SubResource("SegmentShape2D_rgrqg")

[node name="Telephone" type="Sprite2D" parent="Bubble"]
position = Vector2(0, -157)
scale = Vector2(0.3, 0.3)
texture = ExtResource("5_ue00l")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="Bubble"]
position = Vector2(0, -409)
color = Color(0.921726, 0.91423, 0, 1)
energy = 0.3
blend_mode = 2
shadow_color = Color(0.0823529, 0.0823529, 0.0823529, 0.713726)
shadow_filter = 1
shadow_filter_smooth = 13.3

[node name="BubbleCollisionWall" type="StaticBody2D" parent="Bubble"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Bubble/BubbleCollisionWall"]
position = Vector2(-0.0314941, 0.251831)
scale = Vector2(1.06295, 1.06295)
build_mode = 1
polygon = PackedVector2Array(-392.276, -147.94, -324.54, -268.36, -215.409, -366.201, -72.4106, -415.122, 76.233, -417.003, 201.357, -374.668, 292.613, -305.05, 364.112, -215.676, 411.151, -99.019, 420.559, 33.6312, 389.513, 165.341, 322.718, 271.649, 229.58, 351.616, 109.16, 404.299, -70, 417, -209, 364, -324, 270, -399.803, 121.124, -419.559, -6.8224)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_rhyln")

[connection signal="body_shape_entered" from="Transportion2" to="Transportion2" method="_on_body_shape_entered"]
[connection signal="body_shape_entered" from="Transportion" to="Transportion" method="_on_body_shape_entered"]
